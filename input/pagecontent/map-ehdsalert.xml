<?xml version="1.0" encoding="UTF-8"?>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en">
  <head>
    <meta http-equiv="Content-Type" content="application/xhtml+xml; charset=UTF-8" />
    <title>EHDSAlert → Flag</title>
    <link rel="stylesheet" type="text/css" href="map-pages.css" />
  </head>
<body>
  <blockquote class="dragon">
    <p>
      <strong>Note:</strong> The content of this page is <strong>work in progress</strong> and may change based on ongoing discussions within the working group.</p>
    <p>The technical solutions listed are <strong>possible candidates</strong> under consideration and are <strong>not yet approved</strong> or ready for implementation.</p>
  </blockquote>
    <h3>EHDSAlert → Flag</h3>
    <a>  </a>
    <p>
      This page describes the element-by-element mapping from the <strong>EHDSAlert</strong> logical model to the
      FHIR <code>Flag</code> (or equivalent alert/clinical warning profile) used in this Implementation Guide.
      Alerts convey critical safety or clinical information that should be surfaced whenever the patient record is accessed.
    </p>
    <div class="table-wrap">
      <table summary="EHDSAlert → Flag">
        <caption>EHDSAlert → Flag</caption>
        <thead>
          <tr>
            <th colspan="2" class="src-head">EHDSAlert (Logical Model)</th>
            <th class="relhead">Relationship</th>
            <th colspan="3" class="tgt-head">Flag (Alert)</th>
          </tr>
          <tr>
            <th class="src-sub">Element</th>
            <th class="src-sub">Description</th>
            <th class="relsub">Relation</th>
            <th class="tgt-sub">Element</th>
            <th class="tgt-sub">Description</th>
            <th class="tgt-sub">Notes</th>
          </tr>
        </thead>
        <tbody>
          <!-- HEADER BLOCK (common dataset header) -->
          <tr>
            <td>header</td>
            <td>Common header for all patient-related data.</td>
            <td>relatedto</td>
            <td>.</td>
            <td>General metadata.</td>
            <td>Dataset-level; not usually carried in Flag as-is.</td>
          </tr>
          <tr>
            <td>header.subject</td>
            <td>Patient/subject this alert is about.</td>
            <td>equal</td>
            <td>subject</td>
            <td>Who/what the flag is about.</td>
            <td>Reference to Patient (or other subject).</td>
          </tr>
          <tr>
            <td>header.identifier</td>
            <td>Business identifier for the alert object.</td>
            <td>equal</td>
            <td>identifier</td>
            <td>Business identifier for the flag.</td>
            <td>Copy over all identifiers if multiple.</td>
          </tr>
          <tr>
            <td>header.authorship</td>
            <td>Resource authoring details</td>
            <td>relatedto</td>
            <td>author</td>
            <td>Creator of the flag.</td>
            <td>Can reference Practitioner, PractitionerRole, or Organization.</td>
          </tr>
          <tr>
            <td>header.authorship.author[x]</td>
            <td>Who created/issued the alert.</td>
            <td>equal</td>
            <td>author</td>
            <td>Creator of the flag.</td>
            <td>Can reference Device, Organization, Patient, Practitioner, or PractitionerRole.</td>
          </tr>
          <tr class="highlight-yellow">
            <td>header.authorship.datetime</td>
            <td>Date/time the resource was issued.</td>
            <td>XXXXXXXX</td>
            <td>XXXXXXXX</td>
            <td>XXXXXXXX</td>
            <td>XXXXXXXX</td>
          </tr>
          <tr class="highlight-yellow">
            <td>header.lastUpdate</td>
            <td>Last technical correction/update.</td>
            <td>XXXXXXXX</td>
            <td>XXXXXXXX</td>
            <td>XXXXXXXX</td>
            <td>XXXXXXXX</td>
          </tr>
          <tr class="highlight-yellow">
            <td>header.status</td>
            <td>Status of the dataset/resource.</td>
            <td>XXXX</td>
            <td>XXXX</td>
            <td>Flag status is mapped from EHDSAlert.status (see below).</td>
            <td>Header status ≠ clinical alert status. Clarify the difference</td>
          </tr>
          <tr class="highlight-yellow">
            <td>header.statusReason[x]</td>
            <td>Reason for current dataset status.</td>
            <td>XXXXXXXX</td>
            <td>XXXXXXXX</td>
            <td>XXXXXXXX</td>
            <td>XXXXXXXX</td>
          </tr>
          <tr>
            <td>header.language</td>
            <td>Language of the resource (IETF tag).</td>
            <td>equivalent</td>
            <td>language</td>
            <td>Language used in the flag text.</td>
            <td></td>
          </tr>
          <!-- ROOT EHDSAlert elements -->
          <tr class="highlight-yellow">
            <td>text</td>
            <td>Free text explanation of the alert.</td>
            <td>equal</td>
            <td>code.text <em>or</em> text</td>
            <td>Human-readable meaning.</td>
            <td>Prefer putting the core meaning in Flag.code; extra narrative in Flag.note.</td>
          </tr>
          <tr>
            <td>priority</td>
            <td>Priority of the alert.</td>
            <td>equal</td>
            <td>extension:flagPriorityExt	</td>
            <td>A code that identifies the priority of the alert</td>
            <td></td>
          </tr>
          <tr>
            <td>status</td>
            <td>Status of the alert (active, inactive, entered-in-error…).</td>
            <td>equal</td>
            <td>status</td>
            <td>Indicates if the flag is active, inactive, etc.</td>
            <td>Use the EHDS → HL7 Flag-status value set mapping.</td>
          </tr>
          <tr>
            <td>code</td>
            <td>Coded alert/issue being highlighted.</td>
            <td>equal</td>
            <td>code</td>
            <td>Issue being highlighted.</td>
            <td>Often SNOMED CT or local code. Should have display.</td>
          </tr>
          <tr>
            <td>period</td>
            <td>Time period when the alert is relevant.</td>
            <td>equal</td>
            <td>period</td>
            <td>Time period when the flag is active.</td>
            <td>Map start/end 1:1.</td>
          </tr>
        </tbody>
      </table>
    </div>
    <p style="margin-top:2rem;color:#555;">
      Return to overview: <a href="modelmap2.html">EHDS Logical Models → FHIR Profiles</a>
    </p>
  </body>
</html>
