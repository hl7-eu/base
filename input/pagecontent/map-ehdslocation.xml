<?xml version="1.0" encoding="UTF-8"?>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en">
    <head>
        <meta http-equiv="Content-Type" content="application/xhtml+xml; charset=UTF-8" />
        <title>EHDSLocation → LocationEuCore Mapping</title>
        <style type="text/css">
      body { font-family: system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif; margin: 1rem; background:#f5f7fb; color:#1a1a1a; line-height:1.4; }
      h1 { margin-bottom:0.5rem; }
      p.lead { max-width:70ch; }
      .legend {
        font-size:0.8rem;
        background:#fff;
        border:1px solid #d0d7de;
        border-radius:10px;
        padding:10px 12px;
        max-width:70ch;
        margin:1rem 0;
      }
      .legend dt { font-weight:600; float:left; width:6rem; }
      .legend dd { margin-left:6rem; margin-bottom:0.5rem; }
      .table-wrap { overflow:auto; border:1px solid #d0d7de; border-radius:10px; padding:8px; background:#fff; box-shadow:0 1px 2px rgba(0,0,0,0.04); }
      table { border-collapse:collapse; width:100%; table-layout:fixed; font-size:0.9rem; }
      thead th { background:#f6f8fa; font-weight:600; text-align:center; }
      th, td { border:1px solid #d0d7de; padding:4px 6px; vertical-align:top; overflow:hidden; text-overflow:ellipsis; }
      caption { text-align:left; font-weight:600; margin-bottom:0.5rem; }
      .relhead { background-color:#6F2E80 !important; color:#ffffff !important; }
      .relsub  { background-color:#E6D7EC !important; font-weight:bold; }
      .src-head { background-color:#1f54d1; color:#ffffff; }
      .tgt-head { background-color:#be072f; color:#ffffff; }
      .src-sub  { background-color:#adc3f6; font-weight:bold; }
      .tgt-sub  { background-color:#d78496; font-weight:bold; }
      .notes-sub { background:#f6f8fa; font-weight:600; }
        </style>
    </head>
    <body>
        <h3>EHDSLocation → LocationEuCore</h3>
        <p class="lead">
      This page describes the mapping from the
            <a href="https://www.xt-ehr.eu/fhir/models/StructureDefinition/EHDSLocation">
                <strong>EHDSLocation</strong>
            </a>
      logical model to the <code>LocationEuCore</code> profile in this Implementation Guide.
        </p>
        <p class="lead" style="font-size:0.9rem;">
      Where HL7 FHIR R4 and R5 differ structurally (for example, contact/telecom handling), these differences are
      documented in the "R4/R5 Notes" column.
        </p>
        <div class="legend">
            <strong>Relationship legend</strong>
            <dl>
                <dt>equal</dt>
                <dd>Semantically equivalent.</dd>
                <dt>narrower</dt>
                <dd>FHIR element is more specific / constrained.</dd>
                <dt>relatedto</dt>
                <dd>Maps conceptually, but requires restructuring or interpretation.</dd>
                <dt>unmatched</dt>
                <dd>No direct corresponding element in this profile.</dd>
            </dl>
        </div>
        <div class="table-wrap">
            <table summary="EHDSLocation">
                <caption>EHDSLocation → LocationEuCore</caption>
                <thead>
                    <tr>
                        <th colspan="2" class="src-head">EHDSLocation (Logical Model)</th>
                        <th class="relhead">Relationship</th>
                        <th colspan="2" class="tgt-head">LocationEuCore</th>
                        <th class="notes-sub">R4 / R5 Notes</th>
                    </tr>
                    <tr>
                        <th class="src-sub">Element</th>
                        <th class="src-sub">Description</th>
                        <th class="relsub">Relation</th>
                        <th class="tgt-sub">Element</th>
                        <th class="tgt-sub">Description</th>
                        <th class="notes-sub">Notes</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td>identifier</td>
                        <td>Identifier</td>
                        <td>equal</td>
                        <td>identifier</td>
                        <td>Unique code or number identifying the location to its users</td>
                        <td></td>
                    </tr>
                    <tr>
                        <td>name</td>
                        <td>Name</td>
                        <td>equal</td>
                        <td>name</td>
                        <td>Location name</td>
                        <td></td>
                    </tr>
                    <tr>
                        <td>description</td>
                        <td>Description</td>
                        <td>equal</td>
                        <td>
                            <div>telecom (FHIR R4)</div>
                            <div>contact.telecom (FHIR R5)</div>
                        </td>
                        <td>Location telecom</td>
                        <td>
              In R4, telecom is directly on <code>Location.telecom</code>.                            <br/>
              In R5, telecom is grouped under <code>Location.contact.telecom</code>.
                        </td>
                    </tr>
                    <tr>
                        <td>type</td>
                        <td>Type</td>
                        <td>equal</td>
                        <td>
                            <div>physicalType (FHIR R4)</div>
                            <div>type (FHIR R5)</div>
                        </td>
                        <td>Location type</td>
                        <td>
              In R4, <code>Location.physicalType</code> is used.<br/>
              In R5, this is represented by <code>Location.type</code>.
                    </td>
                </tr>
                <tr>
                    <td>address</td>
                    <td>Address</td>
                    <td>equal</td>
                    <td>address</td>
                    <td>Physical location</td>
                    <td>
              Address is structurally similar in R4 and R5; may be profiled to <code>AddressEu</code>.
                    </td>
                </tr>
                <tr>
                    <td>managingOrganisation</td>
                    <td>Managing organisation</td>
                    <td>equal</td>
                    <td>managingOrganization</td>
                    <td>Managing organization</td>
                    <td>No structural difference between R4 and R5 that impacts this element.</td>
                </tr>
                <tr>
                    <td>partOf</td>
                    <td>Part of</td>
                    <td>equal</td>
                    <td>partOf</td>
                    <td>Another Location this one is physically a part of</td>
                    <td>No structural difference between R4 and R5 that impacts this element.</td>
                </tr>
            </tbody>
        </table>
    </div>
    <p style="margin-top:2rem;font-size:0.8rem;color:#555;">
      Return to overview: <a href="model-map.html">EHDS Logical Models → FHIR Profiles</a>
    </p>
</body>
</html>
